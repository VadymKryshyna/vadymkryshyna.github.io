import{a as Z}from"./chunk-ALKBLXOG.js";import{a as E,b as $}from"./chunk-QV5HBWRY.js";import"./chunk-3HC3S356.js";import{A as P,C as q,Ca as K,D,Da as Q,Ea as X,F as R,J as G,U as V,V as b,aa as O,ba as j,ea as H,fa as W,ga as U,ia as z,kb as Y,m as B,n as x,ta as J,u as F,w as h,x as A,y as L,z as N}from"./chunk-PPI7W4ZX.js";import"./chunk-HIP4L62O.js";import{Bc as _,Db as c,Gc as s,Hc as p,Ja as S,Lb as C,Rb as l,Vb as n,Vc as k,Wb as i,Xb as f,fc as T,gc as g,ia as M,jc as y,kb as t,kc as I,sc as o,tc as u,uc as v,xb as w}from"./chunk-5OHYYUBQ.js";import"./chunk-GAL4ENT6.js";var oe=()=>["/"],te=(()=>{class e{static \u0275fac=function(a){return new(a||e)};static \u0275cmp=w({type:e,selectors:[["app-error"]],decls:10,vars:2,consts:[[1,"blank-layout-container","justify-content-center"],[1,"row"],[1,"col-12","text-center"],["src","./assets/images/backgrounds/errorimg.svg","alt","error-bg","width","500"],[1,"auth-title","f-w-600"],[1,"f-s-20","f-w-600","m-y-30"],["mat-flat-button","","color","primary",3,"routerLink"]],template:function(a,d){a&1&&(n(0,"div",0)(1,"div",1)(2,"div",2),f(3,"img",3),n(4,"h2",4),o(5,"Opps!!!"),i(),n(6,"h6",5),o(7,"This page you are looking for could not be found."),i(),n(8,"a",6),o(9,"Go back to Home"),i()()()()),a&2&&(t(8),C("routerLink",_(1,oe)))},dependencies:[x,b],encapsulation:2})}return e})();var re=()=>["/dashboards/dashboard1"],ne=(()=>{class e{static \u0275fac=function(a){return new(a||e)};static \u0275cmp=w({type:e,selectors:[["app-maintenance"]],decls:10,vars:2,consts:[[1,"blank-layout-container","justify-content-center"],[1,"row"],[1,"col-12","text-center"],["src","./assets/images/backgrounds/maintenance.svg","alt","error-bg"],[1,"auth-title","f-w-600"],[1,"f-s-20","f-w-600","m-b-30"],["mat-flat-button","",3,"routerLink"]],template:function(a,d){a&1&&(n(0,"div",0)(1,"div",1)(2,"div",2),f(3,"img",3),n(4,"h2",4),o(5,"Maintenance Mode!!!"),i(),n(6,"h6",5),o(7,"Website is Under Construction. Check back later!"),i(),n(8,"a",6),o(9,"Go back to Home"),i()()()()),a&2&&(t(8),C("routerLink",_(1,re)))},dependencies:[x,b],encapsulation:2})}return e})();function ae(e,m){e&1&&(n(0,"div",14),o(1),s(2,"translate"),i()),e&2&&(t(),u(p(2,1,"Required")))}function se(e,m){if(e&1&&(n(0,"mat-hint",6),c(1,ae,3,3,"div",14),i()),e&2){let r=g();t(),l(r.formControls.currentPassword.errors&&r.formControls.currentPassword.errors.required?1:-1)}}function pe(e,m){e&1&&(n(0,"div",14),o(1),s(2,"translate"),i()),e&2&&(t(),u(p(2,1,"Password required")))}function de(e,m){e&1&&(n(0,"div",14),o(1),s(2,"translate"),i()),e&2&&(t(),u(p(2,1,"Password pattern required")))}function le(e,m){if(e&1&&(n(0,"mat-hint",6),c(1,pe,3,3,"div",14)(2,de,3,3,"div",14),i()),e&2){let r=g();t(),l(r.formControls.password.errors&&r.formControls.password.errors.required?1:-1),t(),l(r.formControls.password.errors&&r.formControls.password.errors.pattern?2:-1)}}function me(e,m){e&1&&(n(0,"mat-error",8),o(1),s(2,"translate"),i()),e&2&&(t(),u(p(2,1,"The passwords are not identical")))}function ce(e,m){e&1&&(n(0,"div",14),o(1),s(2,"translate"),i()),e&2&&(t(),u(p(2,1,"Required")))}function fe(e,m){e&1&&(n(0,"div",14),o(1),s(2,"translate"),i()),e&2&&(t(),u(p(2,1,"Password pattern required")))}function ue(e,m){if(e&1&&(n(0,"mat-hint",6),c(1,ce,3,3,"div",14)(2,fe,3,3,"div",14),i()),e&2){let r=g();t(),l(r.formControls.repeatPassword.errors&&r.formControls.repeatPassword.errors.required?1:-1),t(),l(r.formControls.repeatPassword.errors&&r.formControls.repeatPassword.errors.pattern?2:-1)}}function Ce(e,m){e&1&&(n(0,"span",13),o(1,"loading"),i())}function we(e,m){e&1&&(o(0),s(1,"translate")),e&2&&v(" ",p(1,1,"Save")," ")}var ie=(()=>{class e{router=M(V);authenticationFacade=M(Z);isLoading=S(!1);errorMessage=S(null);hasError=k(()=>!!this.errorMessage());form=new N({currentPassword:new P(null,[h.required]),password:new P(null,[h.required,h.pattern(E)]),repeatPassword:new P(null,[h.required,h.pattern(E)])},{validators:[$]});ngOnInit(){this.form.setValue({currentPassword:null,password:null,repeatPassword:null})}get formControls(){return this.form.controls}get hasMismatchedPasswords(){return this.form.errors?.passwordMismatch&&this.formControls.repeatPassword.touched}changePassword(){if(this.form.invalid){window.alert("Please provide data");return}let r={currentPassword:this.form.value.currentPassword??"",password:this.form.value.password??""};this.isLoading.set(!0),this.authenticationFacade.changePassword(r).subscribe({next:()=>{this.isLoading.set(!1),this.router.navigateByUrl("/")},error:a=>{this.isLoading.set(!1),this.errorMessage.set(a?.[0]?.message||"Change password failed. Please try again.")}})}static \u0275fac=function(a){return new(a||e)};static \u0275cmp=w({type:e,selectors:[["app-change-password"]],decls:32,vars:29,consts:[[1,"cardWithShadow","theme-card"],[1,"p-y-24"],[3,"formGroup"],[1,"f-s-14","f-w-600","m-b-8","d-block"],["appearance","outline","color","primary",1,"w-100"],["matInput","","type","password","formControlName","currentPassword",3,"placeholder"],[1,"m-b-16","error-msg"],["matInput","","type","password","formControlName","password",3,"placeholder"],[1,"m-b-16"],["appearance","outline","color","primary",1,"w-100","hide-hint"],["matInput","","type","password","formControlName","repeatPassword",3,"placeholder"],[1,"text-right","p-24","p-t-0"],["mat-flat-button","","color","primary",1,"m-r-8",3,"click","disabled"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm","m-r-8"],[1,"text-error"]],template:function(a,d){a&1&&(n(0,"mat-card",0)(1,"mat-card-content",1)(2,"mat-card-title"),o(3),s(4,"translate"),i(),n(5,"form",2)(6,"mat-label",3),o(7),s(8,"translate"),i(),n(9,"mat-form-field",4),f(10,"input",5),s(11,"translate"),c(12,se,2,1,"mat-hint",6),i(),n(13,"mat-label",3),o(14),s(15,"translate"),i(),n(16,"mat-form-field",4),f(17,"input",7),s(18,"translate"),c(19,le,3,2,"mat-hint",6),i(),c(20,me,3,3,"mat-error",8),n(21,"mat-label",3),o(22),s(23,"translate"),i(),n(24,"mat-form-field",9),f(25,"input",10),s(26,"translate"),c(27,ue,3,2,"mat-hint",6),i()()(),n(28,"div",11)(29,"button",12),T("click",function(){return d.changePassword()}),c(30,Ce,2,0,"span",13)(31,we,2,3),i()()()),a&2&&(t(3),u(p(4,15,"Change password")),t(2),C("formGroup",d.form),t(2),v(" ",p(8,17,"Current password")," "),t(3),y("placeholder",p(11,19,"Current password")),t(2),l(d.formControls.currentPassword.touched&&d.formControls.currentPassword.invalid?12:-1),t(2),v(" ",p(15,21,"New password")," "),t(3),I("placeholder"," ",p(18,23,"New password"),""),t(2),l(d.formControls.password.touched&&d.formControls.password.invalid?19:-1),t(),l(d.hasMismatchedPasswords?20:-1),t(2),v(" ",p(23,25,"Confirm password")," "),t(3),y("placeholder",p(26,27,"Confirm password")),t(2),l(d.formControls.repeatPassword.touched&&d.formControls.repeatPassword.invalid?27:-1),t(2),C("disabled",!d.form.valid&&!d.isLoading()),t(),l(d.isLoading()?30:31))},dependencies:[Y,z,H,U,W,J,K,X,Q,B,j,O,G,q,F,A,L,D,R],encapsulation:2})}return e})();var He=[{path:"error",component:te},{path:"maintenance",component:ne},{path:"change-password",component:ie}];export{He as SharedRoutes};
